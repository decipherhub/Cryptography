## 소개

[[Block cipher]]는 대칭 키 암호화에서 사용되는 암호화 알고리즘으로, 고정 크기의 블록 단위로 평문을 암호화합니다. 블록 크기는 알고리즘에 따라 다르지만, 블록 암호는 운영 모드(modes of operation)를 사용하기 때문에 평문의 길이는 가변적일 수 있습니다. 아래에서 자세히 설명할 것입니다. [[Pseudo-random Function]]에서 메시지 공간이 n 비트이고 키 공간이 k 비트인 경우, 블록 암호는 의사난수 함수로 추상화할 수 있습니다.

![[block_cipher(1).png]]

## 설계

![[block_cipher(2).png]]

블록 암호 암호화의 기본 흐름은 다음과 같습니다:

1. 키 확장을 통해 키를 $r$ 라운드 키로 확장합니다.
2. 각 라운드 키를 라운드 함수에 순차적으로 적용합니다.
3. 암호문 $c$를 출력합니다.

라운드 함수와 키 확장의 구현은 특정 알고리즘에 따라 다릅니다. 일반적으로 라운드 함수에서는 [[Confusion and Diffusion]]을 충족시키기 위해 치환, 전치, 시프트, 스왑과 같은 구성 요소가 사용됩니다.

## 운영 모드

암호화할 평문의 길이가 블록 크기보다 길다면, 운영 모드를 사용할 수 있습니다. 운영 모드는 하나의 키를 여러 번 안전하게 사용하는 방법을 정의합니다. 운영 모드에는 두 가지 유형이 있습니다:

| 기밀성만 제공                                                                                                                  | 추가 데이터가 포함된 인증 암호화(AEAD)                                                                                                                         |
| ---------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| - ECB(Electric Codebook)<br>- CBC(Cipher-block Chaining)<br>- CFB(Cipher Feedback)<br>- OFB(Output Feedback)<br>- CTR(Counter) | - GCM(Galois counter)<br>- CCM(Counter with cipher block chaining message authentication code)<br>- SIV(Synthetic initialization vector)<br>- AES-GCM-SIV |

## [[Stream cipher]]와의 비교

|                    | [[Stream cipher]]                    | Block cipher                                         |
| ------------------ | ------------------------------------- | ----------------------------------------------------- |
| 처리 단위          | 비트/바이트                            | 데이터 블록                                           |
| 키 유형            | 각 비트/바이트마다 생성됨              | 여러 라운드에서 단일 키 사용                          |
| 구현               | 더 간단하며, 하드웨어에서 자주 사용됨 | 더 복잡하며, 소프트웨어에서 자주 사용됨               |
| 사용 사례          | 실시간 애플리케이션, 저지연          | 파일 암호화, 저장된 데이터                            |
| 속도               | 일반적으로 더 빠름                     | 일반적으로 더 느림                                    |
| 패딩 필요 여부     | 필요 없음                              | 데이터가 블록 크기에 맞지 않으면 패딩 필요            |
| 보안               | 키 재사용은 취약점으로 이어질 수 있음  | 적절한 패딩과 운영 모드가 사용될 경우 더 안전함       |
| 예시               | RC4, Salsa20, ChaCha20                | AES, DES, Blowfish                                    |